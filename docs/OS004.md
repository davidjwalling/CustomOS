### Project os.004
Source: [os.004/os.asm](../os.004/os.asm)
### Features and Topics
- x86 Protected Mode Operation
- 6845 Cathode Ray Tube (CRT) I/O
- NEC 765 Floppy Disk Controller (FDC) I/O
- 8259 Peripheral Interrupt Controller (PIC) I/O
- 8253 Programmable Interval Timer (PIT) I/O
- Protected Mode Global Descriptor Table (GDT)
- Protected Mode Interrupt Descriptor Table (IDT)
- Protected Mode Local Descriptor Table (LDT)
- Protected Mode Task State Segments (TSS)
- Color Graphics Adapter (CGA) memory-mapped I/O
- BIOS Reserved Memory Areas
- Assembly Macros
- CPU Type Detection
- Entering a Protected Mode Task and the Task Register
- Hardware Interrupt Request (IRQ) Handlers
- Handling the Clock Timer Interrupt
- Software Interrupts
- CGA Cursor Placement
- Defining a Screen or Panel as a Series of Fields
### Source-Code Notes
- This project significantly expands the OS loader program, <span>os.com</span>.
- The CPU type is checked to ensure 32-bit Protected Mode operational support (Intel 80386+).
- OS reserved memory areas are mapped to low memory addresses.
- Entry points are defined for CPU, hardware and software interrupts.
- A 32-bit protected mode task is called by the OS loader.
- The "console" task initializes system storage and draws the initial "panel".
- The console task enters a wait loop until the system is stopped.
### [Virtual](VIRTUAL.md) Machine Operation
- Update the Virtual Machine configuration to use os.004/os.dsk as the diskette image.
- Start the Virtual Machine.

<img src="../images/os004_VirtualBox_001.PNG"/>

### [Physical](PHYSICAL.md) Machine Operation
- Update the OS boot diskette by copying os.004/os.com to the diskette.
- Insert the OS boot diskette into the physical system's floppy disk drive A:.
- Start the system.

<img src="../images/os004_Boot_001.jpg"/>
